import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { useState } from 'react';
import { Field } from './field';

<Meta
  title="Components/Atoms/Forms/Field"
  component={Field}
  args={{
    isDisabled: false,
    isReadOnly: false,
    isRequired: false,
    type: 'text',
    value: '',
  }}
  argTypes={{
    id: {
      control: {
        type: null,
      },
      description: 'Set an id to the input element.',
      table: {
        category: 'Attributes',
      },
      type: {
        name: 'string',
        required: true,
      },
    },
    isDisabled: {
      control: {
        type: 'boolean',
      },
      description: 'Should the field be disabled?',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    isReadOnly: {
      control: {
        type: 'boolean',
      },
      description: 'Should the field be readonly?',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    isRequired: {
      control: {
        type: 'boolean',
      },
      description: 'Should the field be required?',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    name: {
      control: {
        type: null,
      },
      description: 'A field name.',
      table: {
        category: 'Attributes',
      },
      type: {
        name: 'string',
        required: true,
      },
    },
  }}
/>

export const Template = ({ value: defaultValue, onChange, ...args }) => {
  const [value, setValue] = useState(defaultValue);
  const handleChange = (e) => {
    setValue(e.target.value);
  };
  return <Field {...args} onChange={handleChange} value={value} />;
};

export const onChange = () => {
  /** Return nothing. */
};

# Field

A `Field` component allows you to turn single values on and off in a form.

## States

A field can be:

- editable but not required
- editable but required
- disabled
- readonly

<Canvas>
  <Story name="State: editable, not required">
    <Field id="editable" name="editable" onChange={() => {}} />
  </Story>
  <Story name="State: required">
    <Field id="required" isRequired name="required" onChange={() => {}} />
  </Story>
  <Story name="State: disabled">
    <Field id="disabled" isDisabled name="disabled" onChange={() => {}} />
  </Story>
  <Story name="State: readonly">
    <Field id="readonly" isReadOnly name="readonly" onChange={() => {}} />
  </Story>
</Canvas>

## Types

Many types of field are supported.

### Date

<Canvas>
  <Story
    name="Types: Date"
    args={{
      id: 'date-field',
      name: 'date-field',
      onChange,
      type: 'date',
      value: '',
    }}
  />
</Canvas>

### Datetime

<Canvas>
  <Story
    name="Types: Datetime"
    args={{
      id: 'datetime-field',
      name: 'datetime-field',
      onChange,
      type: 'datetime-local',
      value: '',
    }}
  />
</Canvas>

### Email

<Canvas>
  <Story
    name="Types: Email"
    args={{
      id: 'email-field',
      name: 'email-field',
      onChange,
      type: 'email',
      value: '',
    }}
  />
</Canvas>

### Number

<Canvas>
  <Story
    name="Types: Number"
    args={{
      id: 'numeric-field',
      name: 'numeric-field',
      onChange,
      type: 'number',
      value: '',
    }}
  />
</Canvas>

### Password

<Canvas>
  <Story
    name="Types: Password"
    args={{
      id: 'password-field',
      name: 'password-field',
      onChange,
      type: 'password',
      value: '',
    }}
  />
</Canvas>

### Search

<Canvas>
  <Story
    name="Types: Search"
    args={{
      id: 'search-field',
      name: 'search-field',
      onChange,
      type: 'search',
      value: '',
    }}
  />
</Canvas>

### Tel

<Canvas>
  <Story
    name="Types: Tel"
    args={{
      id: 'tel-field',
      name: 'tel-field',
      onChange,
      type: 'tel',
      value: '',
    }}
  />
</Canvas>

### Text

<Canvas>
  <Story
    name="Types: Text"
    args={{
      id: 'text-field',
      name: 'text-field',
      onChange,
      type: 'text',
      value: '',
    }}
  />
</Canvas>

### Textarea

<Canvas>
  <Story
    name="Types: Textarea"
    args={{
      id: 'textarea-field',
      name: 'textarea-field',
      onChange,
      type: 'textarea',
      value: '',
    }}
  />
</Canvas>

### Time

<Canvas>
  <Story
    name="Types: Time"
    args={{
      id: 'time-field',
      name: 'time-field',
      onChange,
      type: 'time',
      value: '',
    }}
  />
</Canvas>

### Url

<Canvas>
  <Story
    name="Types: Url"
    args={{
      id: 'url-field',
      name: 'url-field',
      onChange,
      type: 'url',
      value: '',
    }}
  />
</Canvas>

## Playground

<Canvas>
  <Story
    name="Playground"
    args={{
      id: 'playground-field',
      name: 'playground-field',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
