import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { Button } from './button';

<Meta
  title="Components/Atoms/Button"
  component={Button}
  args={{
    isDisabled: false,
    isLoading: false,
    kind: 'secondary',
    type: 'button',
  }}
  argTypes={{
    children: {
      control: {
        type: 'text',
      },
      description: 'The button body.',
      type: {
        name: 'string',
        required: true,
      },
    },
    isDisabled: {
      control: {
        type: 'boolean',
      },
      description: 'Should the button be disabled?',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    isLoading: {
      control: {
        type: 'boolean',
      },
      description: 'Should the button indicate a loading state?',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    kind: {
      control: {
        type: 'select',
      },
      options: ['neutral', 'primary', 'secondary'],
      description: 'Define the button variant.',
      table: {
        category: 'Options',
        defaultValue: { summary: 'secondary' },
      },
      type: {
        name: 'string',
        required: false,
      },
    },
    type: {
      control: {
        type: 'select',
      },
      options: ['button', 'reset', 'submit'],
      description: 'The button type.',
      table: {
        category: 'Options',
        defaultValue: { summary: 'button' },
      },
      type: {
        name: 'string',
        required: false,
      },
    },
  }}
/>

export const Template = (args) => <Button {...args} />;

# Button

A button is used to trigger an event on click.

## Types

A button can have three different types:

- `submit`: it indicates the button is used to submit a form
- `reset`: it indicates the button is used to reset a form
- `button`: all other cases

## Kind

The button appearance can change depending on its kind. It can be either `primary`, `secondary` (default) or `neutral`.

<Canvas>
  <Story name="Kind/Primary">
    <Button kind="primary">Send</Button>
  </Story>
  <Story name="Kind/Secondary">
    <Button kind="secondary">Read more</Button>
  </Story>
  <Story name="Kind/Neutral">
    <Button kind="neutral">Toggle</Button>
  </Story>
</Canvas>

## States

It can either be enabled (default), be disabled or indicate a loading state.

See a preview with `primary` kind:

<Canvas>
  <Story name="State/Primary/Enabled">
    <Button kind="primary">Load more?</Button>
  </Story>
  <Story name="State/Primary/Disabled">
    <Button kind="primary" isDisabled>
      Load more?
    </Button>
  </Story>
  <Story name="State/Primary/Loading">
    <Button kind="primary" isLoading>
      Load more?
    </Button>
  </Story>
</Canvas>

And see another preview with `secondary` kind:

<Canvas>
  <Story name="State/Secondary/Enabled">
    <Button>Load more?</Button>
  </Story>
  <Story name="State/Secondary/Disabled">
    <Button isDisabled>Load more?</Button>
  </Story>
  <Story name="State/Secondary/Loading">
    <Button isLoading>Load more?</Button>
  </Story>
</Canvas>

## Accessibility

If the button is a toggle button, it should use the `aria-pressed` attribute to indicate the current state.

If the button controls the visibility of a some other elements, it should use the `aria-expanded` attribute to indicate the current state.

Sometimes, the button body is not enough explicit for screen reader users. In that case, you should use the `aria-label` attribute to give a better indication about the button purpose.

## Playground

<Canvas>
  <Story
    name="Playground"
    args={{
      children: 'Call to action',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
