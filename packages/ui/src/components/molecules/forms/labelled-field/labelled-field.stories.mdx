import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { Checkbox, Field, Form, Radio, Select } from '../../../atoms';
import * as LabelStories from '../../../atoms/forms/label/label.stories.mdx';
import { LabelledField } from './labelled-field';

<Meta
  title="Components/Molecules/Forms/LabelledField"
  component={LabelledField}
  args={{
    label: 'A label',
  }}
  argTypes={{
    ...LabelStories.default.argTypes,
    children: {
      description: 'Children is not used!',
      table: {
        disabled: true,
      },
    },
    isReversedOrder: {
      control: {
        type: 'boolean',
      },
      description:
        'Define if the label should be placed before or after the field.',
      table: {
        category: 'Options',
        defaultValue: { summary: false },
      },
      type: {
        name: 'boolean',
        required: false,
      },
    },
    field: {
      control: {
        type: null,
      },
    },
    layout: {
      control: {
        type: 'select',
      },
      options: ['column', 'row'],
      description: 'Define the labelled field layout.',
      table: {
        category: 'Options',
        defaultValue: { summary: 'column' },
      },
      type: {
        name: 'string',
        required: false,
      },
    },
  }}
/>

export const Template = (args) => (
  <Form>
    <LabelledField {...args} />
  </Form>
);

export const handleChange = () => {
  /* Do something. */
};

# Labelled Field

A labelled field provide an accessible way to obtain information from an user.

You can see more details about the available options in [Field](/?path=/docs/components-atoms-forms-field--state-editable-not-required) documentation.

## Fields

You can use any of these components:

- [`<Checkbox />`](/?path=/docs/components-atoms-forms-checkbox--state-unchecked)
- [`<Field />`](/?path=/docs/components-atoms-forms-field--state-editable-not-required)
- [`<Radio />`](/?path=/docs/components-atoms-forms-radio--state-unchecked)
- [`<Select />`](/?path=/docs/components-atoms-forms-select--single-choice-selectable)

<Canvas>
  <Story
    name="Checkbox"
    args={{
      field: (
        <Checkbox
          id="checkbox-field"
          name="checkbox-field"
          onChange={handleChange}
        />
      ),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Field"
    args={{
      field: (
        <Field
          id="text-field"
          name="text-field"
          onChange={handleChange}
          type="text"
        />
      ),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Radio"
    args={{
      field: (
        <Radio id="radio-field" name="radio-field" onChange={handleChange} />
      ),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Select"
    args={{
      field: (
        <Select
          id="select-field"
          name="select-field"
          onChange={handleChange}
          options={[]}
        />
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Layout

You can control the position of the label relative to the field:

<Canvas>
  <Story
    name="Layout: column"
    args={{
      field: (
        <Field
          id="layout-column"
          name="layout-column"
          onChange={handleChange}
          type="text"
        />
      ),
      layout: 'column',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Layout: row"
    args={{
      field: (
        <Field
          id="layout-row"
          name="layout-row"
          onChange={handleChange}
          type="text"
        />
      ),
      layout: 'row',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Order

You can control the position of the label relative to the field:

<Canvas>
  <Story
    name="Order: regular column"
    args={{
      field: (
        <Checkbox
          id="regular-column"
          name="regular-column"
          onChange={handleChange}
        />
      ),
      isReversedOrder: false,
      layout: 'column',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Order: reversed column"
    args={{
      field: (
        <Checkbox
          id="reversed-column"
          name="reversed-column"
          onChange={handleChange}
        />
      ),
      isReversedOrder: true,
      layout: 'column',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Order: regular row"
    args={{
      field: (
        <Checkbox id="regular-row" name="regular-row" onChange={handleChange} />
      ),
      isReversedOrder: false,
      layout: 'row',
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="Order: reversed row"
    args={{
      field: (
        <Checkbox
          id="reversed-row"
          name="reversed-row"
          onChange={handleChange}
        />
      ),
      isReversedOrder: true,
      layout: 'row',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Playground

<Canvas>
  <Story
    name="Playground"
    args={{
      color: 'regular',
      field: (
        <Field id="playground-field" name="playground-field" type="text" />
      ),
      isRequired: false,
      isReversedOrder: false,
      layout: 'column',
      size: 'md',
      requiredSymbol: ' *',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
